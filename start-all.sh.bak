#!/bin/bash
echo "🤖 Starting VistaView..."
VV="$HOME/vistaview_WORKING"

pkill -f "node.*server" 2>/dev/null
pkill -f "python.*ml_bridge" 2>/dev/null

cd "$VV/backend" && node server.cjs > server.log 2>&1 &
echo "✅ Backend: http://localhost:1117"

cd "$VV/python" && python3 ml_bridge.py > ml.log 2>&1 &
echo "✅ Python ML: http://localhost:5000"

if [[ -f "$VV/frontend/package.json" ]]; then
  cd "$VV/frontend" && npm run dev > frontend.log 2>&1 &
  echo "✅ Frontend: http://localhost:5180"
fi

sleep 2
echo ""
echo "═══════════════════════════════════════════════════"
echo "  🤖 VISTAVIEW IS RUNNING"
echo "  Dashboard: http://localhost:1117/dashboard"
echo "  Frontend:  http://localhost:5180"
echo "═══════════════════════════════════════════════════"
