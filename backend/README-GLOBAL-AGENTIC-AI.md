# VistaView Global Agentic AI System

## ðŸŒ Overview

A world-class, self-learning AI system that scales from **Boss â†’ Dev Team â†’ Universe**.

**Core Principle**: Learn from patterns, not people.

---

## ðŸ—ï¸ Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     VISTAVIEW AGENTIC AI                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚    BOSS     â”‚    â”‚  DEV TEAM   â”‚    â”‚  UNIVERSE   â”‚             â”‚
â”‚  â”‚  (You)      â”‚    â”‚  (Internal) â”‚    â”‚ (All Users) â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚         â”‚                  â”‚                  â”‚                     â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                            â”‚                                        â”‚
â”‚                            â–¼                                        â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚              â”‚      AGENTIC BAR            â”‚                        â”‚
â”‚              â”‚  (Single Interaction Layer) â”‚                        â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                             â”‚                                       â”‚
â”‚                             â–¼                                       â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚              â”‚  GLOBAL INTERACTION LEDGER  â”‚                        â”‚
â”‚              â”‚    (Central Learning DB)    â”‚                        â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                             â”‚                                       â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚         â–¼                   â–¼                   â–¼                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚  PATTERNS   â”‚    â”‚  EMPATHY    â”‚    â”‚  PERSONAS   â”‚             â”‚
â”‚  â”‚  (Learned)  â”‚    â”‚  (Emotions) â”‚    â”‚  (Behavior) â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ“Š Database Tables

### Core Tables

| Table | Purpose |
|-------|---------|
| `global_interaction_ledger` | **Central learning ledger** - ALL interactions |
| `learned_patterns` | Extracted patterns (de-identified, clustered) |
| `agent_personas` | Mr. V behavior configurations |
| `system_rules` | Safety rules (never break) |
| `onboarding_prompts` | Ready-to-drop cloud prompts |
| `flow_states` | User journey tracking |

### Supporting Tables

| Table | Purpose |
|-------|---------|
| `boss_voice_inputs` | Boss voice history |
| `empathy_learning` | Emotion patterns |
| `voice_command_learning` | Command patterns |
| `communication_platforms` | Sites to crawl |
| `crawled_sources` | Web crawl data |

---

## ðŸ”Œ API Endpoints

### Universal Logging (The Core)

```
POST /api/ledger/log
Body: {
    "user_type": "boss|dev_team|vendor|builder|buyer|visitor",
    "raw_transcript": "what the user said",
    "page_route": "/current/page",
    "modal_name": "optional_modal",
    "interaction_mode": "voice|text"
}
Response: {
    "success": true,
    "ledger_id": 123,
    "pattern_id": 45,
    "analysis": { sentiment, emotion, intent, empathy_score, ... }
}
```

### Shortcuts

```
POST /api/boss/voice    â†’ { text: "...", page_context: "..." }
POST /api/team/voice    â†’ { text: "...", user_id: "..." }
POST /api/user/voice    â†’ { text: "...", user_type: "vendor" }
```

### Query APIs

```
GET /api/dashboard      â†’ All stats + recent entries
GET /api/ledger         â†’ Recent ledger entries
GET /api/patterns       â†’ Learned patterns
GET /api/personas       â†’ Agent personas
GET /api/prompts        â†’ Onboarding prompts
GET /api/rules          â†’ System rules
```

---

## ðŸ”’ Safety Rules (NEVER BREAK)

| Rule | Description |
|------|-------------|
| `NO_DELETE` | Never delete data without boss confirmation |
| `NO_OVERWRITE` | Always backup before modifying |
| `CONFIRM_PUBLISH` | Confirm before permanent changes |
| `LOG_EVERYTHING` | Every interaction must be logged |
| `SINGLE_AGENTIC_BAR` | All interactions through Agentic Bar |
| `PRESERVE_STACK` | Maintain navigation stack for "go back" |

---

## ðŸŽ­ Agent Personas

| Persona | Context | Tone | Speed |
|---------|---------|------|-------|
| Boss Mode | Boss interaction | Efficient | Fast |
| Vendor Onboarding | New vendors | Friendly | Normal |
| Builder Showcase | Builders | Professional | Normal |
| Buyer Search | Home buyers | Enthusiastic | Normal |
| Dev Team | Development | Technical | Fast |

---

## ðŸ“œ Ready-to-Drop Prompts

### 1. System Prompt (Cloud/RAG)

Feed this to your AI backend:

```
You are Mr. V, the global agentic intelligence of VistaView...
[Full prompt in database: onboarding_prompts WHERE prompt_type = 'system']
```

### 2. User Welcome (First Visit)

```
Welcome to VistaView. I'm Mr. V â€” your intelligent, hands-free real estate assistant...
```

### 3. Dev Team Onboarding

```
VistaView uses a global Agentic Bar as its primary interaction surface...
```

---

## ðŸš€ Scaling

### Local (You)
- All interactions logged to `global_interaction_ledger`
- Patterns extracted automatically
- Dashboard shows real-time stats

### Dev Team
- Same ledger, different `user_type = 'dev_team'`
- Their voice trains the system
- Same rules apply

### Production (Universe)
- Deploy to AWS RDS
- All users contribute to learning
- Patterns are de-identified
- System self-improves

---

## ðŸ“ˆ What Gets Learned

### âœ… Learns

- Language variations ("go back" vs "return" vs "previous")
- Timing patterns (when users hesitate)
- UX friction points
- Successful vs failed flows
- Industry-specific phrasing
- Error recovery strategies

### âŒ Does NOT Learn

- Personal identities
- Voice biometrics
- Private content
- User-specific secrets

---

## ðŸ› ï¸ Running

```bash
# Start server
cd ~/vistaview_WORKING/backend
node server.cjs

# Access dashboard
open http://localhost:1117/dashboard
```

---

## ðŸ“‹ Frontend Integration

To send voice commands from any frontend:

```javascript
// Log any interaction
fetch('http://localhost:1117/api/ledger/log', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
        user_type: 'vendor',        // Who is speaking
        raw_transcript: 'the text', // What they said
        page_route: '/vendor/signup', // Where they are
        interaction_mode: 'voice'   // How they said it
    })
});
```

---

## ðŸŽ¯ The Goal

> **Reduce friction, increase clarity, deliver human-like experience at scale.**

Every conversation anywhere makes VistaView smarter everywhere.

---

**Version**: 29.0-global  
**Created**: January 4, 2026  
**Author**: VistaView AI Team
